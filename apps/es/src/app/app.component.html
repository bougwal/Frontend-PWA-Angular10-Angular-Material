<app-nav>
  <div right>
    <button aria-label="Cart" mat-icon-button>
    <mat-icon [matBadge]="cart.cartTotal" matBadgeColor="accent" matBadgePosition="before" (click)="openCart()">shopping_cart</mat-icon>
    </button>
    </div>
    <div class="products">
      <mat-card class="product-card" *ngFor="let product of
      products$ | async; let i = index">
      <img [attr.alt]="product.name" mat-card-image
      [src]="product.images[0]">
      <mat-card-content>
      <mat-card-title>{{product.name}}</mat-card-title>
      <mat-card-subtitle>{{product.category}}</mat-card-subtitle>
      <mat-card-subtitle class="sale-price">
      {{product.salePrice | currency}}
      <del class="del-tag"><span class="original-price">
      {{product.price | currency}}</span></del>
      </mat-card-subtitle>
      <p>{{product.description}}</p>
      <mat-card-actions>
        <app-add-to-cart [count]="cart[product._id]?.count || 0" (updateCount)="onAddProduct($event, product)"></app-add-to-cart>
      </mat-card-actions>
  </mat-card-content>
  </mat-card>
 </div>
</app-nav>
